<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Tip Archive</title>
    <style>
        :root {
            --bg-sidebar: #2c3e50;
            /* ëˆˆì´ í¸ì•ˆí•œ ë¯¸ìƒ‰ (Sepia/Paper í†¤) */
            --bg-content: #fdf6e3; 
            --text-main: #222222; /* ì™„ì „í•œ ê²€ì •(#000)ë³´ë‹¤ í•œ ë‹¨ê³„ ì—°í•œ ì§™ì€ íšŒìƒ‰ */
            --text-side: #ecf0f1;
            --accent: #2980b9; /* ë¯¸ìƒ‰ê³¼ ì˜ ì–´ìš¸ë¦¬ëŠ” í¬ì¸íŠ¸ ì»¬ëŸ¬ */
        }
        * { box-sizing: border-box; }
        body { display: flex; margin: 0; font-family: sans-serif; height: 100vh; }

        /* ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ */
        #sidebar { width: 260px; background: var(--bg-sidebar); color: var(--text-side); display: flex; flex-direction: column; }
        .side-header { padding: 15px 20px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        #search { width: calc(100% - 30px); margin: 10px 15px; padding: 6px; border-radius: 4px; border: none; outline: none; background: rgba(255,255,255,0.1); color: white; }

        /* í´ë” ë° ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .doc-list { flex: 1; overflow-y: auto; padding: 5px 0; }
        
        /* í´ë”(details) ìŠ¤íƒ€ì¼ */
        details { margin-bottom: 2px; }
        summary { 
            padding: 8px 20px; cursor: pointer; font-size: 0.85rem; font-weight: bold; 
            color: #95a5a6; list-style: none; transition: 0.2s;
        }
        summary:hover { color: white; background: rgba(255,255,255,0.05); }
        summary::before { content: "ğŸ“ "; margin-right: 5px; font-weight: normal; }
        details[open] summary { color: var(--accent); }
        details[open] summary::before { content: "ğŸ“‚ "; }
        
        /* ê²€ìƒ‰ì°½ */
        #search {
            width: calc(100% - 40px); margin: 15px 20px; padding: 8px 12px;
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
            color: white; border-radius: 6px; outline: none;
        }

        /* ë¬¸ì„œ ë§í¬ ìŠ¤íƒ€ì¼ */
        .doc-list { overflow-y: auto; flex: 1; padding: 10px 0; }
        .doc-link { 
            display: block; padding: 6px 20px 6px 40px; color: #bdc3c7; 
            text-decoration: none; font-size: 0.82rem; cursor: pointer; 
            border-left: 3px solid transparent; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .doc-link:hover, .doc-link.active { background: rgba(255,255,255,0.1); color: white; border-left-color: var(--accent); }
        .doc-link.active { background: rgba(255,255,255,0.1); color: white; border-left-color: var(--accent); font-weight: bold; }

        /* í°íŠ¸ ì„¤ì • ì˜ì—­ (ì‚¬ì´ë“œë°” í•˜ë‹¨) */
        .font-settings { 
            padding: 15px; background: rgba(0,0,0,0.2); border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 0.8rem;
        }
        .font-settings select, .font-settings input { 
            width: 100%; margin-top: 5px; padding: 4px; font-size: 0.8rem; 
            background: #34495e; color: white; border: 1px solid #555;
        }

        /* ë³¸ë¬¸ ì˜ì—­ */
        #content-wrapper { flex: 1; display: flex; flex-direction: column; background: var(--bg-content); }
        #content { 
            flex: 1; 
            padding: 15px 25px; /* ìƒí•˜ ì—¬ë°±ì„ ì¤„ì—¬ ë” ë§ì€ ë‚´ìš© ë…¸ì¶œ */
            overflow-y: auto; 
            white-space: pre-wrap; 
            word-break: break-all; 
            font-family:'IBM Plex Mono', 'Cascadia Code', 'Consolas', 'Courier New', monospace;

            /* ì •ë³´ ë°€ë„ ìµœì í™” ì„¤ì • */
            line-height: 1.35;   /* ì¤„ ê°„ê²©ì„ ë” íƒ€ì´íŠ¸í•˜ê²Œ ì¡°ì • */
            font-size: 0.92rem;  /* í°íŠ¸ í¬ê¸°ë¥¼ ë¯¸ì„¸í•˜ê²Œ ë” ì¶•ì†Œ */
            color: var(--text-main); /* ê²€ì •ìƒ‰ ì ìš© */
            font-weight: 400; /* ê¸€ìê°€ ë„ˆë¬´ ë‘êº¼ìš°ë©´ ë‹¤ì‹œ ê²€ê²Œ ë³´ì¼ ìˆ˜ ìˆì–´ êµµê¸° ì¡°ì ˆ */
            letter-spacing: -0.02em; /* ê¸€ì ê°„ê²©ì„ ì¢í˜€ ë°€ë„ í–¥ìƒ */
    
        }
        
        /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        @media (max-width: 768px) {
            body { flex-direction: column; }
            #sidebar { width: 100%; height: 200px; }
        }
    </style>
</head>
<body>

<nav id="sidebar">
    <div class="side-header">
        <h3>ğŸ’¡ TIP ARCHIVE</h3>
    </div>
    <input type="text" id="search" placeholder="ë¬¸ì„œ ê²€ìƒ‰..." onkeyup="filterDocs()">
    <div class="doc-list" id="docList">
        <!-- ê²½ë¡œ ëì— .txtê°€ ì—†ì–´ë„ íŒŒì¼ëª…ì— ë”°ë¼ ì ì ˆíˆ í˜¸ì¶œë¨ -->
        <details open>
            <summary>Programming</summary>
            <a class="doc-link" onclick="loadTxt(this, 'tips/git.txt')">git.txt</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/rust.txt')">rust.txt</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/css')">css</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/html')">html</a>
        </details>

        <details>
            <summary>Linux & Server</summary>
            <a class="doc-link" onclick="loadTxt(this, 'tips/linux_tips.txt')">linux_tips.txt</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/linuxmint 19.3.txt')">linuxmint 19.3.txt</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/lemp')">lemp</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/alias.txt')">alias.txt</a>
        </details>

        <details>
            <summary>Others</summary>
            <a class="doc-link" onclick="loadTxt(this, 'tips/ai.txt')">ai.txt</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/yt-dlp')">yt-dlp</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/app_shortcut')">app_shortcut</a>
            <a class="doc-link" onclick="loadTxt(this, 'tips/markdown.md')">markdown.md</a>
        </details>
    </div>

    <!-- í°íŠ¸ ì„ íƒ ì„¤ì • -->
    <div class="font-settings">
        <label>í°íŠ¸ ì„¤ì • (ê³ ì •í­)</label>
        <select id="fontSelect" onchange="changeFont(this.value)">
            <option value="'IBM Plex Mono', 'Fira Code', monospace">IBM Plex Mono / Fira Code</option>
            <option value="'Aurulent Sans Mono', 'Monaco', monospace">Aurulent Sans Mono / Monaco</option>
            <option value="'Monaspace Argon', 'PT Mono', monospace">Monaspace Argon / PT Mono</option>
            <option value="'Office Code Pro', 'Source Code Pro', monospace">Office Code Pro / Source Code Pro</option>
            <option value="'Consolas', 'Monaco', monospace">Consolas / Monaco</option>
            <option value="'D2Coding', 'Nanum Gothic Coding', monospace">D2Coding / ë‚˜ëˆ”ê³ ë”•</option>
            <option value="'Cascadia Code', 'JetBrains Mono', monospace">Cascadia / JetBrains</option>
            <option value="custom">ì§ì ‘ ì…ë ¥...</option>
        </select>
        <input type="text" id="customFont" placeholder="í°íŠ¸ ì´ë¦„ ì…ë ¥ í›„ ì—”í„°" 
               style="display:none;" onkeypress="if(event.keyCode==13) changeFont(this.value)">
    </div>

</nav>

<main id="content-wrapper">
    <div id="content">ëª©ë¡ì—ì„œ ë¬¸ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.</div>
</main>

<script>
    async function loadTxt(element, fileName) {
        // í™œì„± ìƒíƒœ í‘œì‹œ ì—…ë°ì´íŠ¸
        const links = document.querySelectorAll('.doc-link');
        links.forEach(l => l.classList.remove('active'));
        element.classList.add('active');

        const contentDiv = document.getElementById('content');
        contentDiv.innerText = 'ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
        
        try {
            const response = await fetch(fileName);
            if (!response.ok) throw new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            const text = await response.text();
            contentDiv.innerText = text;
            contentDiv.scrollTop = 0; // ìƒˆ ë¬¸ì„œ ë¡œë“œ ì‹œ ìŠ¤í¬ë¡¤ ìƒë‹¨ìœ¼ë¡œ
        } catch (err) {
            contentDiv.innerText = 'ì—ëŸ¬: ' + err.message;
        }
    }

    // ê°„ë‹¨í•œ ê²€ìƒ‰ ê¸°ëŠ¥
    function filterDocs() {
        const query = document.getElementById('search').value.toLowerCase();
        // ê²€ìƒ‰ ì‹œì—ëŠ” ëª¨ë“  í´ë”ë¥¼ ì¼ì‹œì ìœ¼ë¡œ í¼ì¹¨
        document.querySelectorAll('details').forEach(det => {
            if (query) det.open = true;
        });
        document.querySelectorAll('.doc-link').forEach(link => {
            link.style.display = link.innerText.toLowerCase().includes(query) ? 'block' : 'none';
        });
    }

    // í°íŠ¸ ë³€ê²½ í•¨ìˆ˜
    function changeFont(fontName) {
        const customInput = document.getElementById('customFont');
        if (fontName === 'custom') {
            customInput.style.display = 'block';
            return;
        }
        // ë³¸ë¬¸ì— í°íŠ¸ ì ìš© (ì…ë ¥í•œ í°íŠ¸ê°€ ì‹œìŠ¤í…œì— ìˆìœ¼ë©´ ì ìš©ë¨)
        document.getElementById('content').style.fontFamily = fontName + ", monospace";
        // ì„ íƒ ê°’ ì €ì¥ (ë¸Œë¼ìš°ì € ë¡œì»¬ ìŠ¤í† ë¦¬ì§€)
        localStorage.setItem('userFont', fontName);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ í°íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
    window.onload = () => {
        const savedFont = localStorage.getItem('userFont');
        if (savedFont) {
            changeFont(savedFont);
            document.getElementById('fontSelect').value = savedFont;
        }
    };
</script>

</body>
</html>
